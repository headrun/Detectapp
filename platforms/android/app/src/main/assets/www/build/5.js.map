{"version":3,"sources":["../../src/pages/newpost/newpost.module.ts","../../src/components/components.module.ts","../../src/components/footer/footer.ts","../../src/pages/newpost/newpost.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NewpostPage } from './newpost';\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    NewpostPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NewpostPage),\n    ComponentsModule\n  ],\n  exports: [\n    NewpostPage\n  ]\n})\nexport class NewpostPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/newpost/newpost.module.ts","import { NgModule } from '@angular/core';\nimport { FooterComponent } from './footer/footer';\nimport { IonicModule } from 'ionic-angular';\n@NgModule({\n\tdeclarations: [FooterComponent],\n\timports: [IonicModule],\n\texports: [FooterComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, Input } from \"@angular/core\";\nimport { NavController } from \"ionic-angular\";\n/**\n * Generated class for the MyTextComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: \"footer\",\n  templateUrl: \"footer.html\"\n})\nexport class FooterComponent {\n  text: string;\n  @Input()\n  ic_active: number;\n  constructor(public navCtrl: NavController) {\n    this.ic_active = 1;\n  }\n  tabCheck(pagenumber) {\n    switch (pagenumber) {\n      case 1: {\n        this.navCtrl.push(\"NewsPage\");\n        break;\n      }\n      case 2: {\n        this.navCtrl.push(\"EventsPage\");\n        break;\n      }\n      case 3: {\n        this.navCtrl.push(\"GroupPage\");\n        break;\n      }\n      case 4: {\n        this.navCtrl.push(\"ProfilecreationPage\");\n        break;\n      }\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/footer/footer.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\nimport * as firebase from 'firebase';\n\n/**\n * Generated class for the NewpostPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-newpost',\n  templateUrl: 'newpost.html',\n})\nexport class NewpostPage {\n  groupData;\n  newpost;\n  imgfiles;\n  lctr;\n  user = firebase.auth().currentUser;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public toastCtrl: ToastController, public loadCtrl:LoadingController) {\n    this.groupData = this.navParams.get('groupData');\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad NewpostPage');\n  }\n\n  onFileChange(event){\n    this.imgfiles = event.target.files[0];\n  }\n  publishNewPost(){\n\n    let phoneNumber = window.localStorage.getItem('phoneNo').replace(\"\\\"\", \"\").replace(\"\\\"\", \"\");\n    let newpost = this.newpost;\n    this.newpost = '';\n    document.getElementById('imgfile')['value'] = '';\n    let imgfile = this.imgfiles;\n    this.imgfiles = '';\n    let groupid = this.groupData['groupid'];\n    if(imgfile == undefined && newpost == undefined){\n      return;\n    }\n    if(imgfile != '' && imgfile != undefined) {\n      this.lctr = this.loadCtrl.create({\n        content:'Publishing New Post...'\n      });\n      this.lctr.present();\n      this.saveNewPostImgData(imgfile, (imgUrl)=>{\n        let postObj = {'comments_count':0, 'created_at': new Date().getTime(), 'is_abuse':false, 'is_active':true, 'is_pinned':0, 'like_users':[''], 'likes_count':0, 'modified_at':new Date().getTime(), 'post':newpost, 'post_image':imgUrl, 'posted_by':phoneNumber};\n        console.log(postObj);\n        firebase.database().ref(groupid+'_posts').push(postObj).then((res)=>{\n          let tctrl = this.toastCtrl.create({\n            message:'Posted Successfully.',\n            duration:2000,\n          });\n          this.lctr.dismiss();\n          tctrl.present();\n          this.navCtrl.pop();\n        }, (err)=>{\n          let tctrl = this.toastCtrl.create({\n            message:'Something went wrong.',\n            duration:2000,\n          });\n          tctrl.present();\n        });\n      });\n    }else{\n      this.lctr = this.loadCtrl.create({\n        content:'Publishing New Post...'\n      });\n      this.lctr.present();\n      let postObj = {'comments_count':0, 'created_at': new Date().getTime(), 'is_abuse':false, 'is_active':true, 'is_pinned':0, 'like_users':[''], 'modified_at':new Date().getTime(), 'likes_count':0, 'post':newpost, 'post_image':'', 'posted_by':phoneNumber};\n      firebase.database().ref(groupid+'_posts').push(postObj).then((res)=>{\n        let tctrl = this.toastCtrl.create({\n          message:'Posted Successfully.',\n          duration:2000,\n        });\n        this.lctr.dismiss();\n        tctrl.present();\n        this.navCtrl.pop();\n      }, (err)=>{\n        this.lctr.dismiss();\n        let lctrl = this.toastCtrl.create({\n          message:'Something went wrong.',\n          duration:2000,\n        });\n        lctrl.present();\n      });\n    }\n  }\n\n  saveNewPostImgData(file, callback){\n    const ref = firebase.storage().ref('All_Image_Uploads');\n    const name = (+new Date()) + '-' + file.name;\n    const task = ref.child(name).put(file);\n    file = '';\n    task.on('state_changed', (snapshot)=>{\n      var progress = (snapshot['bytesTransferred'] / snapshot['totalBytes']) * 100;\n      if (progress === 100) {\n      }\n    }, (err)=>{\n      console.log('image not uploaded');\n    }, ()=>{\n      task.snapshot.ref.getDownloadURL().then((downloadUrl)=>{\n        callback(downloadUrl)\n      });\n    });\n  }\n\n  openFile(){\n    document.getElementById('imgfile').click();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/newpost/newpost.ts"],"sourceRoot":""}