{"version":3,"sources":["../../src/pages/quiz/quiz.module.ts","../../src/components/components.module.ts","../../src/components/footer/footer.ts","../../src/pages/quiz/quiz.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { QuizPage } from './quiz';\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    QuizPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(QuizPage),\n    ComponentsModule\n  ],\n  exports: [\n    QuizPage\n  ]\n})\nexport class QuizPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/quiz/quiz.module.ts","import { NgModule } from '@angular/core';\nimport { FooterComponent } from './footer/footer';\nimport { IonicModule } from 'ionic-angular';\n@NgModule({\n\tdeclarations: [FooterComponent],\n\timports: [IonicModule],\n\texports: [FooterComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, Input } from \"@angular/core\";\nimport { NavController } from \"ionic-angular\";\n/**\n * Generated class for the MyTextComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: \"footer\",\n  templateUrl: \"footer.html\"\n})\nexport class FooterComponent {\n  text: string;\n  @Input()\n  ic_active: number;\n  constructor(public navCtrl: NavController) {\n    this.ic_active = 1;\n  }\n  tabCheck(pagenumber) {\n    switch (pagenumber) {\n      case 1: {\n        this.navCtrl.push(\"NewsPage\");\n        break;\n      }\n      case 2: {\n        this.navCtrl.push(\"EventsPage\");\n        break;\n      }\n      case 3: {\n        this.navCtrl.push(\"GroupPage\");\n        break;\n      }\n      case 5: {\n        this.navCtrl.push(\"ProfilecreationPage\");\n        break;\n      }\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/footer/footer.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Slide } from 'ionic-angular';\nimport * as firebase from 'firebase';\nimport { Slides } from 'ionic-angular';\n\n/**\n * Generated class for the QuizPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  'name': 'QuizPage'\n})\n@Component({\n  selector: 'page-quiz',\n  templateUrl: 'quiz.html',\n})\nexport class QuizPage {\n\n  @ViewChild('slides') slides: Slides;\n\n  lctrl;\n  quizData:Array<Object> = [];\n  eventData:Object = {};\n  user = firebase.auth().currentUser;\n  questions = [];\n  answersData = [];\n  anscor = [];\n  slideqt:boolean = false;\n  noquest:number = 0;\n  complete:boolean = false;\n  correctCount:number = 0;\n  quizCmplt:boolean  = false;\n  totalqns: number = 0;\n  quizAnsFound:boolean = false;\n  isQuizEmpty = false;\n  terms_conditions = false;\n  phoneNumber = window.localStorage.getItem('phoneNo').replace(\"\\\"\", \"\").replace(\"\\\"\", \"\");\n  constructor(public navCtrl: NavController, public navParams: NavParams, public loadCtrl: LoadingController) {\n    this.eventData = this.navParams.get('eventData');\n    this.lctrl = this.loadCtrl.create({\n      content:'Please Wait...'\n    });\n    this.lctrl.present(); \n  }\n\n  ionViewDidLoad() {\n\n    this.getQuizAnswersIfExist((result) =>{\n      if(result) {\n        this.quizCmplt = true;\n        this.lctrl.dismiss();\n      }else{\n        this.getQuizData();\n        setTimeout(() => {\n          if(this.slides != undefined){\n            this.slides.lockSwipeToNext(true);\n            this.slides.lockSwipeToPrev(true);\n          }\n        }, 1000);\n      }\n    });\n    \n  }\n\n  async getQuizData() {\n    let that = this;\n    let eventid = that.eventData['eventid'];\n    let quizFound = false;\n    await firebase.database().ref('quiz').orderByChild('event_id').equalTo(eventid).on('child_added', function(datasnapshot){\n      if(datasnapshot.val().questions_data.length != 0){\n        that.isQuizEmpty = true;\n        that.quizData = datasnapshot.val().questions_data;\n        that.noquest = that.quizData.length-1;\n      }\n    });\n    \n    setTimeout(()=>{\n      this.lctrl.dismiss();\n    }, 1000);\n  }\n\n  questionsbt() {\n    if(this.slideqt && !this.complete){\n      this.slides.lockSwipeToNext(false);\n      this.slides.slideNext();\n      this.slides.lockSwipeToNext(true);\n      this.slideqt = false;\n    }else if(this.complete){\n      this.slides.lockSwipeToNext(false);\n      this.slides.slideNext();\n      this.slides.lockSwipeToNext(true);\n      this.slideqt = false;\n      this.quizCmplt = true;\n      let finalObj = {'answers':this.answersData, 'userid':this.phoneNumber, 'eventid':this.eventData['eventid'], 'answerindex':this.eventData['eventid']+'#'+ this.phoneNumber, 'correctCount':this.correctCount, 'totalquestions':this.quizData.length};\n\n      firebase.database().ref('quizAnswers').push(finalObj).then((res)=>{\n        console.log('Answers successfully submited...');\n      }, (err)=>{\n        console.log('Something went wrong...');\n      });\n      this.getLeaderBoard();\n    }\n  }\n\n  answered(answer, index):void {\n    this.correctCount = 0;\n    if(this.noquest === index) {\n      this.complete = true;\n    }\n\n    let ans = this.quizData[index]['answer'];\n    let qus = this.quizData[index]['question']\n    if(ans.toLowerCase() === answer.toLowerCase()) {\n      this.anscor[index] = 1;\n      let obj = {'question':qus, 'answer':answer};\n      this.answersData[index] = obj;\n    }else{\n      let obj = {'question':qus, 'answer':answer}\n    }\n    this.slideqt = true;\n    for(let i = 0; i<this.anscor.length; i++){\n      if(this.anscor[i]==1)\n        this.correctCount +=1;\n    }\n\n  }\n\n  getQuizAnswersIfExist(callback) {\n    let eventid = this.eventData['eventid'];\n    let user_phone = this.phoneNumber;\n    if(this.user) {\n      firebase.database().ref('quizAnswers').orderByChild('answerindex').equalTo(eventid+'#'+user_phone).on('child_added', (datasnapshot)=>{\n        if(datasnapshot.val().correctCount !== '') {\n          this.correctCount = datasnapshot.val().correctCount;\n          this.totalqns = datasnapshot.val().totalquestions;\n          callback(this.quizAnsFound = true);\n        }\n      });\n      callback(this.quizAnsFound= false);\n    }\n  }\n\n  async getLeaderBoard() {\n    await firebase.database().ref('quizAnswers').once('value', (datasnapshot)=>{\n      datasnapshot.forEach((chilsnaphot)=>{\n        \n      });\n    });\n  }\n\n  acceptConditions() {\n    this.terms_conditions = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/quiz/quiz.ts"],"sourceRoot":""}